<div class="container mt-5" ng-controller="DangKiController">
    <h2 class="text-center">Đăng Ký Tài Khoản Khách Hàng</h2>
    <form name="dangKyForm" ng-submit="dangKyKhachHang()" novalidate>

        <div class="mb-3">
            <label class="form-label">Số điện thoại:</label>
            <input type="text" class="form-control" ng-model="khachHang.soDienThoai" name="soDienThoai"
                   ng-pattern="/^\d{10}$/" required>
            <div class="text-danger" ng-show="dangKyForm.soDienThoai.$touched && dangKyForm.soDienThoai.$invalid">
                <span ng-show="dangKyForm.soDienThoai.$error.required">Số điện thoại là bắt buộc.</span>
                <span ng-show="dangKyForm.soDienThoai.$error.pattern">Số điện thoại phải gồm 10 chữ số.</span>
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">Mật khẩu:</label>
            <input type="password" class="form-control" ng-model="khachHang.matKhau" name="matKhau" required
                   ng-minlength="8" maxlength="16">
            <div class="text-danger" ng-show="dangKyForm.matKhau.$touched && dangKyForm.matKhau.$invalid">
                <span ng-show="dangKyForm.matKhau.$error.required">Mật khẩu là bắt buộc.</span>
                <span ng-show="dangKyForm.matKhau.$error.minlength">Mật khẩu phải có ít nhất 6 ký tự.</span>
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">Nhập lại mật khẩu:</label>
            <input type="password" class="form-control" ng-model="khachHang.matKhauConfirm" name="matKhauConfirm" required
                   ng-minlength="6" ng-pattern="khachHang.matKhau"
                   match-password>
            <div class="text-danger" ng-show="dangKyForm.matKhauConfirm.$touched && dangKyForm.matKhauConfirm.$invalid">
                <span ng-show="dangKyForm.matKhauConfirm.$error.required">Nhập lại mật khẩu là bắt buộc.</span>
                <span ng-show="dangKyForm.matKhauConfirm.$error.matchPassword">Mật khẩu không khớp.</span>
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">Họ tên:</label>
            <input type="text" class="form-control" ng-model="khachHang.hoTen" name="hoTen" required>
            <div class="text-danger" ng-show="dangKyForm.hoTen.$touched && dangKyForm.hoTen.$invalid">
                <span ng-show="dangKyForm.hoTen.$error.required">Họ tên là bắt buộc.</span>
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">Địa chỉ:</label>
            <input type="text" class="form-control" ng-model="khachHang.diaChi" name="diaChi">
        </div>

        <div class="mb-3">
            <label class="form-label">Email:</label>
            <input type="email" class="form-control" ng-model="khachHang.email" name="email" required>
            <div class="text-danger" ng-show="dangKyForm.email.$touched && dangKyForm.email.$invalid">
                <span ng-show="dangKyForm.email.$error.required">Email là bắt buộc.</span>
                <span ng-show="dangKyForm.email.$error.email">Email không hợp lệ.</span>
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">Hình ảnh URL:</label>
            <input type="text" class="form-control" ng-model="khachHang.hinhAnh" name="hinhAnh">
        </div>
        <div class="alert alert-success" ng-show="success">{{message}}</div>
        <div class="alert alert-danger" ng-show="!success">{{message}}</div>
        <button type="submit" class="btn btn-primary" ng-disabled="dangKyForm.$invalid">Đăng Ký</button>
    </form>
</div>
